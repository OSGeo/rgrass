<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Read and write GRASS raster files — readRAST • rgrass</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Read and write GRASS raster files — readRAST"><meta property="og:description" content='Read GRASS raster files from GRASS into R terra "SpatRaster" or sp "SpatialGridDataFrame" objects, and write single columns of terra "SpatRaster" or sp "SpatialGridDataFrame" objects to GRASS. When return_format="terra", temporary binary files and r.out.bin and r.in.bin are used for speed reasons. read_RAST() and write_RAST() by default use "RRASTER" files written and read by GDAL.'><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rgrass</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.4-2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/coerce.html">Coercion between object formats</a>
    </li>
    <li>
      <a href="../articles/use.html">Use of GRASS interface</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/rsbivand/rgrass/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Read and write GRASS raster files</h1>
    
    <div class="hidden name"><code>readRAST.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Read GRASS raster files from GRASS into R <span class="pkg">terra</span> <code>"SpatRaster"</code> or <span class="pkg">sp</span> <code>"SpatialGridDataFrame"</code> objects, and write single columns of <span class="pkg">terra</span> <code>"SpatRaster"</code> or <span class="pkg">sp</span> <code>"SpatialGridDataFrame"</code> objects to GRASS. When <code>return_format="terra"</code>, temporary binary files and r.out.bin and r.in.bin are used for speed reasons. <code>read_RAST()</code> and <code>write_RAST()</code> by default use <code>"RRASTER"</code> files written and read by GDAL.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">read_RAST</span><span class="op">(</span><span class="va">vname</span>, cat<span class="op">=</span><span class="cn">NULL</span>, NODATA<span class="op">=</span><span class="cn">NULL</span>, ignore.stderr<span class="op">=</span><span class="fu"><a href="gmeta.html">get.ignore.stderrOption</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span> return_format<span class="op">=</span><span class="st">"terra"</span>, close_OK<span class="op">=</span><span class="va">return_format</span><span class="op">==</span><span class="st">"SGDF"</span>, flags<span class="op">=</span><span class="cn">NULL</span><span class="op">)</span></span>
<span><span class="fu">write_RAST</span><span class="op">(</span><span class="va">x</span>, <span class="va">vname</span>, zcol <span class="op">=</span> <span class="fl">1</span>, NODATA<span class="op">=</span><span class="cn">NULL</span>, flags<span class="op">=</span><span class="cn">NULL</span>, </span>
<span> ignore.stderr <span class="op">=</span> <span class="fu"><a href="gmeta.html">get.ignore.stderrOption</a></span><span class="op">(</span><span class="op">)</span>, overwrite<span class="op">=</span><span class="cn">FALSE</span>, verbose<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>vname</dt>
<dd><p>A vector of GRASS raster file names in mapsets in the current search path, as set by “g.mapsets”; the file names may be given as fully-qualified map names using “name@mapset”, in which case only the mapset given in the full path will be searched for the existence of the raster; if more than one raster with the same name is found in mapsets in the current search path, an error will occur, in which case the user should give the fully-qualified map name. If the fully-qualified name is used, <code>@</code> will be replaced by underscore in the output object.</p></dd>

  <dt>cat</dt>
<dd><p>default NULL; if not NULL, must be a logical vector matching vname, stating which (CELL) rasters to return as factor</p></dd>

  <dt>return_format</dt>
<dd><p>default <code>"terra"</code>, optionally <code>"SGDF"</code></p></dd>

  <dt>ignore.stderr</dt>
<dd><p>default taking the value set by <code>set.ignore.stderrOption</code>; can be set to TRUE to silence <code><a href="https://rdrr.io/r/base/system.html" class="external-link">system()</a></code> output to standard error; does not apply on Windows platforms</p></dd>

  <dt>close_OK</dt>
<dd><p>default TRUE - clean up possible open connections used for reading metadata; may be set to FALSE to avoid the side-effect of other user-opened connections being broken</p></dd>

  <dt>x</dt>
<dd><p>A <span class="pkg">terra</span> <code>"SpatRaster"</code> or <span class="pkg">sp</span> <code>"SpatialGridDataFrame"</code> object</p></dd>

  <dt>zcol</dt>
<dd><p>Attribute column number or name</p></dd>

  <dt>NODATA</dt>
<dd><p>by default NULL, in which case it is set to one less than <code><a href="https://rdrr.io/r/base/Round.html" class="external-link">floor()</a></code> of the data values for FCELL rasters or the range maximum for CELL Byte, UInt16 and Uint32 rasters (with no negative values), and an attempt is made to set NODATA to the upper Int16 and Int32 range if the lower range is occupied; otherwise an integer NODATA value (required to be integer by GRASS r.out.bin)</p></dd>

  <dt>overwrite</dt>
<dd><p>default FALSE, if TRUE inserts <code>"overwrite"</code> into the value of the <code>flags</code> argument if not already there to allow existing GRASS rasters to be overwritten</p></dd>

  <dt>flags</dt>
<dd><p>default NULL, character vector, for example <code>"overwrite"</code></p></dd>

  <dt>verbose</dt>
<dd><p>default TRUE, report how writing to GRASS is specified</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p><code>read_RAST</code> by default returns a SpatRaster object, but may return a legacy SpatialGridDataFrame object if <code>return_format="SGDF"</code>. <code>write_RAST</code> silently returns the object being written to GRASS.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Roger S. Bivand, e-mail: <a href="mailto:Roger.Bivand@nhh.no">Roger.Bivand@nhh.no</a></p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">run</span> <span class="op">&lt;-</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"GISRC"</span><span class="op">)</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span> <span class="op">&amp;&amp;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/dcf.html" class="external-link">read.dcf</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"GISRC"</span><span class="op">)</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span>,<span class="st">"LOCATION_NAME"</span><span class="op">]</span> <span class="op">==</span> <span class="st">"nc_basic_spm_grass7"</span><span class="op">)</span> <span class="va">run</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="va">GV</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"GRASS_VERBOSE"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span><span class="st">"GRASS_VERBOSE"</span><span class="op">=</span><span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ois</span> <span class="op">&lt;-</span> <span class="fu"><a href="gmeta.html">get.ignore.stderrOption</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="gmeta.html">set.ignore.stderrOption</a></span><span class="op">(</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="va">run</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span><span class="op">(</span><span class="fu"><a href="execGRASS.html">execGRASS</a></span><span class="op">(</span><span class="st">"g.mapsets"</span>, flags<span class="op">=</span><span class="st">"p"</span>, intern<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>, <span class="st">" "</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "rsb"       "PERMANENT"</span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="va">run</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="execGRASS.html">execGRASS</a></span><span class="op">(</span><span class="st">"g.list"</span>, type<span class="op">=</span><span class="st">"raster"</span>, pattern<span class="op">=</span><span class="st">"soils"</span>, flags<span class="op">=</span><span class="st">"m"</span>, intern<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "soils@PERMANENT"</span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="va">run</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="execGRASS.html">execGRASS</a></span><span class="op">(</span><span class="st">"g.list"</span>, type<span class="op">=</span><span class="st">"raster"</span>, pattern<span class="op">=</span><span class="st">"soils@PERMANENT"</span>, mapset<span class="op">=</span><span class="st">"."</span>, flags<span class="op">=</span><span class="st">"m"</span>, intern<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> character(0)</span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="va">run</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="execGRASS.html">execGRASS</a></span><span class="op">(</span><span class="st">"g.list"</span>, type<span class="op">=</span><span class="st">"raster"</span>, pattern<span class="op">=</span><span class="st">"soils"</span>, mapset<span class="op">=</span><span class="st">"PERMANENT"</span>, flags<span class="op">=</span><span class="st">"m"</span>, intern<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "soils@PERMANENT"</span>
<span class="r-in"><span><span class="va">run</span> <span class="op">&lt;-</span> <span class="va">run</span> <span class="op">&amp;&amp;</span> <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="st"><a href="https://rspatial.org/" class="external-link">"terra"</a></span>, quietly<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> terra 1.7.65</span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="va">run</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">v1</span> <span class="op">&lt;-</span> <span class="fu">read_RAST</span><span class="op">(</span><span class="st">"landuse"</span>, cat<span class="op">=</span><span class="cn">TRUE</span>, return_format<span class="op">=</span><span class="st">"terra"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">v1</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/pkg/terra/man/sources.html" class="external-link">inMemory</a></span><span class="op">(</span><span class="va">v1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="va">run</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu">write_RAST</span><span class="op">(</span><span class="va">v1</span>, <span class="st">"landuse1"</span>, flags<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"o"</span>, <span class="st">"overwrite"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="execGRASS.html">execGRASS</a></span><span class="op">(</span><span class="st">"r.stats"</span>, flags<span class="op">=</span><span class="st">"c"</span>, input<span class="op">=</span><span class="st">"landuse1"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="execGRASS.html">execGRASS</a></span><span class="op">(</span><span class="st">"g.remove"</span>, flags<span class="op">=</span><span class="st">"f"</span>, name<span class="op">=</span><span class="st">"landuse1"</span>, type<span class="op">=</span><span class="st">"raster"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> SpatRaster read into GRASS using r.in.gdal from file</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 592288</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 17347</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 206129</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 135994</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 1021725</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 42854</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7 1610</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * 7053</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span><span class="st">"_SP_EVOLUTION_STATUS_"</span><span class="op">=</span><span class="st">"2"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">run</span> <span class="op">&lt;-</span> <span class="va">run</span> <span class="op">&amp;&amp;</span> <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="st"><a href="https://github.com/edzer/sp/" class="external-link">"sp"</a></span>, quietly<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="va">run</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">nc_basic</span> <span class="op">&lt;-</span> <span class="fu">read_RAST</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"geology"</span>, <span class="st">"elevation"</span><span class="op">)</span>, cat<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    return_format<span class="op">=</span><span class="st">"SGDF"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">nc_basic</span><span class="op">$</span><span class="va">geology</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>non-unique category labels; category number appended</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CZfg_217 CZlg_262 CZig_270 CZbg_405 CZve_583 CZam_720  CZg_766 CZam_862 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   725562   198684   689373   253710    21609     4824     7074    61722 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CZbg_910   Km_921 CZbg_945 CZam_946 CZam_948 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    44964    12528        9     4068      873 </span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="va">run</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="execGRASS.html">execGRASS</a></span><span class="op">(</span><span class="st">"r.stats"</span>, flags<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"c"</span>, <span class="st">"l"</span>, <span class="st">"quiet"</span><span class="op">)</span>, input<span class="op">=</span><span class="st">"geology"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 217 CZfg 725562</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 262 CZlg 198684</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 270 CZig 689373</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 405 CZbg 253710</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 583 CZve 21609</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 720 CZam 4824</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 766 CZg 7074</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 862 CZam 61722</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 910 CZbg 44964</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 921 Km 12528</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 945 CZbg 9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 946 CZam 4068</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 948 CZam 873</span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="va">run</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/pkg/terra/man/boxplot.html" class="external-link">boxplot</a></span><span class="op">(</span><span class="va">nc_basic</span><span class="op">$</span><span class="va">elevation</span> <span class="op">~</span> <span class="va">nc_basic</span><span class="op">$</span><span class="va">geology</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-plt img"><img src="readRAST-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="va">run</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">nc_basic</span><span class="op">$</span><span class="va">sqdem</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="va">nc_basic</span><span class="op">$</span><span class="va">elevation</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="va">run</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu">write_RAST</span><span class="op">(</span><span class="va">nc_basic</span>, <span class="st">"sqdemSP"</span>, zcol<span class="op">=</span><span class="st">"sqdem"</span>, flags<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"quiet"</span>, <span class="st">"overwrite"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="execGRASS.html">execGRASS</a></span><span class="op">(</span><span class="st">"r.info"</span>, map<span class="op">=</span><span class="st">"sqdemSP"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> SpatialGridDataFrame read into GRASS using r.in.bin</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  +----------------------------------------------------------------------------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  | Map:      sqdemSP                        Date: Tue Jan 23 16:37:46 2024    |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  | Mapset:   rsb                            Login of Creator: rsb             |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  | Location: nc_basic_spm_grass7                                              |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  | DataBase: /home/rsb/topics/grassdata                                       |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  | Title:                                                                     |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  | Timestamp: none                                                            |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  |----------------------------------------------------------------------------|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  |                                                                            |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  |   Type of Map:  raster               Number of Categories: 0               |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  |   Data Type:    DCELL                Semantic label: (none)                |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  |   Rows:         1350                                                       |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  |   Columns:      1500                                                       |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  |   Total Cells:  2025000                                                    |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  |        Projection: Lambert Conformal Conic                                 |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  |            N:     228500    S:     215000   Res:    10                     |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  |            E:     645000    W:     630000   Res:    10                     |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  |   Range of data:    min = 7.45511854848878  max = 12.5031941719687         |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  |                                                                            |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  |   Data Description:                                                        |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  |    generated by r.in.bin                                                   |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  |                                                                            |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  |   Comments:                                                                |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  |    r.in.bin --overwrite --quiet -d input="/home/rsb/topics/grassdata/nc\   |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  |    _basic_spm_grass7/rsb/.tmp/localhost.localdomain/X834" output="sqdem\   |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  |    SP" bytes=8 header=0 bands=1 order="native" north=228500 south=21500\   |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  |    0 east=645000 west=630000 rows=1350 cols=1500 anull=6                   |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  |                                                                            |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  +----------------------------------------------------------------------------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="va">run</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.time.html" class="external-link">system.time</a></span><span class="op">(</span><span class="va">sqdemSP</span> <span class="op">&lt;-</span> <span class="fu">read_RAST</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sqdemSP"</span>, <span class="st">"elevation"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    return_format<span class="op">=</span><span class="st">"SGDF"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    user  system elapsed </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   0.642   0.146   0.793 </span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="va">run</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.time.html" class="external-link">system.time</a></span><span class="op">(</span><span class="va">sqdem</span> <span class="op">&lt;-</span> <span class="fu">read_RAST</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sqdemSP"</span>, <span class="st">"elevation"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    return_format<span class="op">=</span><span class="st">"terra"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    user  system elapsed </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   0.591   0.111   0.707 </span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="va">run</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">sqdem</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "sqdemSP"   "elevation"</span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="va">run</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="va">sqdem1</span> <span class="op">&lt;-</span> <span class="fu">read_RAST</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sqdemSP@rsb"</span>, <span class="st">"elevation@PERMANENT"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="va">run</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">sqdem1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "sqdemSP_rsb"         "elevation_PERMANENT"</span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="va">run</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="execGRASS.html">execGRASS</a></span><span class="op">(</span><span class="st">"g.remove"</span>, flags<span class="op">=</span><span class="st">"f"</span>, name<span class="op">=</span><span class="st">"sqdemSP"</span>, type<span class="op">=</span><span class="st">"raster"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="execGRASS.html">execGRASS</a></span><span class="op">(</span><span class="st">"r.mapcalc"</span>, expression<span class="op">=</span><span class="st">"basins0 = basins - 1"</span>, flags<span class="op">=</span><span class="st">"overwrite"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="execGRASS.html">execGRASS</a></span><span class="op">(</span><span class="st">"r.stats"</span>, flags<span class="op">=</span><span class="st">"c"</span>, input<span class="op">=</span><span class="st">"basins0"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 116975</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 75480</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 1137</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7 80506</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9 7472</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11 348209</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13 51456</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15 81959</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17 29652</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19 267883</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21 89465</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23 63433</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25 91354</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27 190239</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29 59727</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * 470053</span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="va">run</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">basins0</span> <span class="op">&lt;-</span> <span class="fu">read_RAST</span><span class="op">(</span><span class="st">"basins0"</span>, return_format<span class="op">=</span><span class="st">"SGDF"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">basins0</span><span class="op">$</span><span class="va">basins0</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      1      3      5      7      9     11     13     15     17     19     21 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 116975  75480   1137  80506   7472 348209  51456  81959  29652 267883  89465 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     23     25     27     29 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  63433  91354 190239  59727 </span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="va">run</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="execGRASS.html">execGRASS</a></span><span class="op">(</span><span class="st">"g.remove"</span>, flags<span class="op">=</span><span class="st">"f"</span>, name<span class="op">=</span><span class="st">"basins0"</span>, type<span class="op">=</span><span class="st">"raster"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="va">run</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="execGRASS.html">execGRASS</a></span><span class="op">(</span>cmd <span class="op">=</span> <span class="st">"r.mapcalc"</span>, expression<span class="op">=</span><span class="st">"test_t=66000"</span>, flags<span class="op">=</span><span class="st">"overwrite"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="execGRASS.html">execGRASS</a></span><span class="op">(</span><span class="st">"r.info"</span>, flags <span class="op">=</span> <span class="st">"r"</span>, map <span class="op">=</span> <span class="st">"test_t"</span>, intern <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="co"># #82</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "min=66000" "max=66000"</span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="va">run</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="op">(</span><span class="va">tt</span> <span class="op">=</span> <span class="fu">read_RAST</span><span class="op">(</span>vname <span class="op">=</span> <span class="st">"test_t"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> WARNING: Too many values, color table cut to 65535 entries</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> class       : SpatRaster </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dimensions  : 1350, 1500, 1  (nrow, ncol, nlyr)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> resolution  : 10, 10  (x, y)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> extent      : 630000, 645000, 215000, 228500  (xmin, xmax, ymin, ymax)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> coord. ref. : NAD83(HARN) / North Carolina (EPSG:3358) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> source      : file7e46249550b2e.grd </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> name        : file7e46249550b2e </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> min value   :                 0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> max value   :             66000 </span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="va">run</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="execGRASS.html">execGRASS</a></span><span class="op">(</span><span class="st">"g.remove"</span>, flags<span class="op">=</span><span class="st">"f"</span>, name<span class="op">=</span><span class="st">"test_t"</span>, type<span class="op">=</span><span class="st">"raster"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span><span class="st">"GRASS_VERBOSE"</span><span class="op">=</span><span class="va">GV</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="gmeta.html">set.ignore.stderrOption</a></span><span class="op">(</span><span class="va">ois</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Roger Bivand.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

