<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Run GRASS commands — execGRASS • rgrass7</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Run GRASS commands — execGRASS" />
<meta property="og:description" content="The functions provide an interface to GRASS commands run through system, based on the values returned by the --interface description flag using XML parsing. If required parameters are omitted, and have declared defaults, the defaults will be used." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rgrass7</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2-6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/rsbivand/rgrass7/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Run GRASS commands</h1>
    
    <div class="hidden name"><code>execGRASS.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The functions provide an interface to GRASS commands run through <code>system</code>, based on the values returned by the <code>--interface description</code> flag using XML parsing. If required parameters are omitted, and have declared defaults, the defaults will be used.</p>
    </div>

    <pre class="usage"><span class='fu'>execGRASS</span><span class='op'>(</span><span class='va'>cmd</span>, flags <span class='op'>=</span> <span class='cn'>NULL</span>, <span class='va'>...</span>, parameters <span class='op'>=</span> <span class='cn'>NULL</span>, intern <span class='op'>=</span> <span class='cn'>NULL</span>,
 ignore.stderr <span class='op'>=</span> <span class='cn'>NULL</span>, Sys_ignore.stdout<span class='op'>=</span><span class='cn'>FALSE</span>, Sys_wait<span class='op'>=</span><span class='cn'>TRUE</span>,
 Sys_input<span class='op'>=</span><span class='cn'>NULL</span>, Sys_show.output.on.console<span class='op'>=</span><span class='cn'>TRUE</span>, Sys_minimized<span class='op'>=</span><span class='cn'>FALSE</span>,
 Sys_invisible<span class='op'>=</span><span class='cn'>TRUE</span>, echoCmd<span class='op'>=</span><span class='cn'>NULL</span>, redirect<span class='op'>=</span><span class='cn'>FALSE</span>, legacyExec<span class='op'>=</span><span class='cn'>NULL</span><span class='op'>)</span>
<span class='fu'>stringexecGRASS</span><span class='op'>(</span><span class='va'>string</span>, intern <span class='op'>=</span> <span class='cn'>NULL</span>,
 ignore.stderr <span class='op'>=</span> <span class='cn'>NULL</span>, Sys_ignore.stdout<span class='op'>=</span><span class='cn'>FALSE</span>, Sys_wait<span class='op'>=</span><span class='cn'>TRUE</span>,
 Sys_input<span class='op'>=</span><span class='cn'>NULL</span>, Sys_show.output.on.console<span class='op'>=</span><span class='cn'>TRUE</span>, Sys_minimized<span class='op'>=</span><span class='cn'>FALSE</span>,
 Sys_invisible<span class='op'>=</span><span class='cn'>TRUE</span>, echoCmd<span class='op'>=</span><span class='cn'>NULL</span>, redirect<span class='op'>=</span><span class='cn'>FALSE</span>, legacyExec<span class='op'>=</span><span class='cn'>NULL</span><span class='op'>)</span>
<span class='fu'>doGRASS</span><span class='op'>(</span><span class='va'>cmd</span>, flags <span class='op'>=</span> <span class='cn'>NULL</span>, <span class='va'>...</span>, parameters <span class='op'>=</span> <span class='cn'>NULL</span>, echoCmd<span class='op'>=</span><span class='cn'>NULL</span>,
 legacyExec<span class='op'>=</span><span class='cn'>NULL</span><span class='op'>)</span>
<span class='fu'>parseGRASS</span><span class='op'>(</span><span class='va'>cmd</span>, legacyExec<span class='op'>=</span><span class='cn'>NULL</span><span class='op'>)</span>
<span class='co'># S3 method for GRASS_interface_desc</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>
<span class='fu'>getXMLencoding</span><span class='op'>(</span><span class='op'>)</span>
<span class='fu'>setXMLencoding</span><span class='op'>(</span><span class='va'>enc</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>cmd</th>
      <td><p>GRASS command name</p></td>
    </tr>
    <tr>
      <th>flags</th>
      <td><p>character vector of GRASS command flags</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>for <code>execGRASS</code> and <code>doGRASS</code>, GRASS module parameters given as R named arguments directly. For the <code>print</code> method, other arguments to print method. The storage modes of values passed must match thos required in GRASS, so a single GRASS string must be a character vector of length 1, a single GRASS integer must be an integer vector of length 1 (may be an integer constant such as 10L), and a single GRASS float must be a numeric vector of length 1. For multiple values, use vectors of suitable length</p></td>
    </tr>
    <tr>
      <th>parameters</th>
      <td><p>list of GRASS command parameters, used if GRASS parameters are not given as R arguments directly; the two methods for passing GRASS parameters may not be mixed. The storage modes of values passed must match thos required in GRASS, so a single GRASS string must be a character vector of length 1, a single GRASS integer must be an integer vector of length 1 (may be an integer constant such as 10L), and a single GRASS float must be a numeric vector of length 1. For multiple values, use vectors of suitable length</p></td>
    </tr>
    <tr>
      <th>string</th>
      <td><p>a string representing <em>one</em> full GRASS statement, using shell syntax: command name, optionally followed by flags and parameters, all separated by whitespaces.
  Parameters follow the key=value format; if 'value' contains spaces, then 'value' must be quoted</p></td>
    </tr>
    <tr>
      <th>intern</th>
      <td><p>default NULL, in which case set internally from <code>get.useInternOption</code>; a logical (not 'NA') which indicates whether to make the output of the command an R object. Not available unless 'popen' is supported on the platform</p></td>
    </tr>
    <tr>
      <th>ignore.stderr</th>
      <td><p>default NULL, taking the value set by <code>set.ignore.stderrOption</code>, a logical indicating whether error messages written to 'stderr' should be ignored</p></td>
    </tr>
    <tr>
      <th>Sys_ignore.stdout, Sys_wait, Sys_input</th>
      <td><p>pass extra arguments to <code>system</code></p></td>
    </tr>
    <tr>
      <th>Sys_show.output.on.console, Sys_minimized, Sys_invisible</th>
      <td><p>pass extra arguments to <code>system</code> on Windows systems only</p></td>
    </tr>
    <tr>
      <th>echoCmd</th>
      <td><p>default NULL, taking the logical value set by <code>set.echoCmdOption</code>, print GRASS command to be executed to console</p></td>
    </tr>
    <tr>
      <th>redirect</th>
      <td><p>default <code>FALSE</code>, if <code>TRUE</code>, add &#8220;2&gt;&amp;1&#8221; to the command string and set <code>intern</code> to <code>TRUE</code>; only used in legacy mode</p></td>
    </tr>
    <tr>
      <th>legacyExec</th>
      <td><p>default NULL, taking the logical value set by <code>set.legacyExecOption</code> which is initialised to <code>FALSE</code> on &#8220;unix&#8221; platforms and <code>TRUE</code> otherwise. If <code>TRUE</code>, use <code>system</code>, if <code>FALSE</code> use <code>system2</code> and divert stderr to temporary file to record error messages and warnings from GRASS modules</p></td>
    </tr>
    <tr>
      <th>x</th>
      <td><p>object to be printed</p></td>
    </tr>
    <tr>
      <th>enc</th>
      <td><p>character string to replace UTF-8 in header of XML data generated by GRASS module --interface-description output when the internationalised messages are not in UTF-8 (known to apply to French, which is in latin1)</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>parseGRASS</code> checks to see whether the GRASS command has been parsed already and cached in this session; if not, it reads the interface description, parses it and caches it for future use. <code>doGRASS</code> assembles a proposed GRASS command with flags and parameters as a string, wrapping <code>parseGRASS</code>, and <code>execGRASS</code> is a wrapper for <code>doGRASS</code>, running the command through <code>system</code> (from 0.7-4, the <code>...</code> argument is not used for passing extra arguments for <code>system</code>). The command string is termed proposed, because not all of the particular needs of commands are provided by the interface description, and no check is made for the existence of input objects. Support for multiple parameter values added with help from Patrick Caldon. Support for defaults and for direct use of GRASS parameters instead of a parameter list suggested by Rainer Krug.</p>  
<p><code>stringexecGRASS</code> is a wrapper around <code>execGRASS</code>, and accepts a single shell statement as a string (following GRASS's command syntax).</p>
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>parseGRASS</code> returns a <code>GRASS_interface_desc</code> object, <code>doGRASS</code> returns a character string with a proposed GRASS command - the expanded command name is returned as an attribute, and <code>execGRASS</code> and  <code>stringexecGRASS</code> return what <code>system</code> or <code>system2</code> return, particularly depending on the <code>intern</code> argument when the character strings output by GRASS modules are returned.
  If <code>intern</code> is <code>FALSE</code>, <code>system</code> returns the module exit code, while <code>system2</code> returns the module exit code with &#8220;resOut&#8221; and &#8220;resErr&#8221; attributes.</p>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>If any package command fails with a UTF-8 error from the XML package, try using <code>setXMLencoding</code> to work around the problem that GRASS modules declare --interface-description output as UTF-8 without ensuring that it is (French is of 6.4.0 RC5 latin1).</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Roger S. Bivand, e-mail: <a href='mailto:Roger.Bivand@nhh.no'>Roger.Bivand@nhh.no</a></p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='https://rdrr.io/r/base/system.html'>system</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>run</span> <span class='op'>&lt;-</span> <span class='cn'>FALSE</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/nchar.html'>nchar</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/Sys.getenv.html'>Sys.getenv</a></span><span class='op'>(</span><span class='st'>"GISRC"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>&gt;</span> <span class='fl'>0</span> <span class='op'>&amp;&amp;</span>
  <span class='fu'><a href='https://rdrr.io/r/base/dcf.html'>read.dcf</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/Sys.getenv.html'>Sys.getenv</a></span><span class='op'>(</span><span class='st'>"GISRC"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>[</span><span class='fl'>1</span>,<span class='st'>"LOCATION_NAME"</span><span class='op'>]</span> <span class='op'>==</span> <span class='st'>"nc_basic_spm_grass7"</span><span class='op'>)</span> <span class='va'>run</span> <span class='op'>&lt;-</span> <span class='cn'>TRUE</span>
  <span class='va'>oechoCmd</span> <span class='op'>&lt;-</span> <span class='fu'><a href='gmeta.html'>get.echoCmdOption</a></span><span class='op'>(</span><span class='op'>)</span>
  <span class='fu'><a href='gmeta.html'>set.echoCmdOption</a></span><span class='op'>(</span><span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] FALSE</div><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='va'>run</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='fu'>parseGRASS</span><span class='op'>(</span><span class='st'>"r.slope.aspect"</span><span class='op'>)</span><span class='op'>)</span>
<span class='op'>}</span>
</div><div class='output co'>#&gt; Command: r.slope.aspect 
#&gt; Description: Generates raster maps of slope, aspect, curvatures and partial derivatives from an elevation raster map. 
#&gt; Keywords: Aspect is calculated counterclockwise from east. 
#&gt; Parameters:
#&gt;   name: elevation, type: string, required: yes, multiple: no
#&gt;   keydesc: name, keydesc_count: 1
#&gt; [Name of input elevation raster map]
#&gt;   name: slope, type: string, required: no, multiple: no
#&gt;   keydesc: name, keydesc_count: 1
#&gt; [Name for output slope raster map]
#&gt;   name: aspect, type: string, required: no, multiple: no
#&gt;   keydesc: name, keydesc_count: 1
#&gt; [Name for output aspect raster map]
#&gt;   name: format, type: string, required: no, multiple: no
#&gt;   default: degrees
#&gt; [Format for reporting the slope]
#&gt;   name: precision, type: string, required: no, multiple: no
#&gt;   default: FCELL
#&gt; [Storage type for resultant raster map]
#&gt;   name: pcurvature, type: string, required: no, multiple: no
#&gt;   keydesc: name, keydesc_count: 1
#&gt; [Name for output profile curvature raster map]
#&gt;   name: tcurvature, type: string, required: no, multiple: no
#&gt;   keydesc: name, keydesc_count: 1
#&gt; [Name for output tangential curvature raster map]
#&gt;   name: dx, type: string, required: no, multiple: no
#&gt;   keydesc: name, keydesc_count: 1
#&gt; [Name for output first order partial derivative dx (E-W slope) raster map]
#&gt;   name: dy, type: string, required: no, multiple: no
#&gt;   keydesc: name, keydesc_count: 1
#&gt; [Name for output first order partial derivative dy (N-S slope) raster map]
#&gt;   name: dxx, type: string, required: no, multiple: no
#&gt;   keydesc: name, keydesc_count: 1
#&gt; [Name for output second order partial derivative dxx raster map]
#&gt;   name: dyy, type: string, required: no, multiple: no
#&gt;   keydesc: name, keydesc_count: 1
#&gt; [Name for output second order partial derivative dyy raster map]
#&gt;   name: dxy, type: string, required: no, multiple: no
#&gt;   keydesc: name, keydesc_count: 1
#&gt; [Name for output second order partial derivative dxy raster map]
#&gt;   name: zscale, type: float, required: no, multiple: no
#&gt;   default: 1.0
#&gt; [Multiplicative factor to convert elevation units to horizontal units]
#&gt;   name: min_slope, type: float, required: no, multiple: no
#&gt;   default: 0.0
#&gt; [Minimum slope value (in percent) for which aspect is computed]
#&gt; Flags:
#&gt;   name: a [Do not align the current region to the raster elevation map] {FALSE}
#&gt;   name: e [Compute output at edges and near NULL values] {FALSE}
#&gt;   name: n [Default: degrees counter-clockwise from East, with flat = 0] {FALSE}
#&gt;   name: overwrite [Allow output files to overwrite existing files] {FALSE}
#&gt;   name: help [Print usage summary] {FALSE}
#&gt;   name: verbose [Verbose module output] {FALSE}
#&gt;   name: quiet [Quiet module output] {FALSE}</div><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='va'>run</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='fu'>doGRASS</span><span class='op'>(</span><span class='st'>"r.slope.aspect"</span>, flags<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"overwrite"</span><span class='op'>)</span>,
    elevation<span class='op'>=</span><span class='st'>"elevation.dem"</span>, slope<span class='op'>=</span><span class='st'>"slope"</span>, aspect<span class='op'>=</span><span class='st'>"aspect"</span><span class='op'>)</span>
<span class='op'>}</span>
</div><div class='output co'>#&gt; GRASS command: r.slope.aspect --overwrite elevation=elevation.dem slope=slope aspect=aspect </div><div class='output co'>#&gt; [1] "r.slope.aspect --overwrite elevation=elevation.dem slope=slope aspect=aspect"
#&gt; attr(,"cmd")
#&gt; [1] "r.slope.aspect"</div><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='va'>run</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='va'>pars</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>elevation<span class='op'>=</span><span class='st'>"elevation"</span>, slope<span class='op'>=</span><span class='st'>"slope"</span>, aspect<span class='op'>=</span><span class='st'>"aspect"</span><span class='op'>)</span>
  <span class='fu'>doGRASS</span><span class='op'>(</span><span class='st'>"r.slope.aspect"</span>, flags<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"overwrite"</span><span class='op'>)</span>, parameters<span class='op'>=</span><span class='va'>pars</span><span class='op'>)</span>
<span class='op'>}</span>
</div><div class='output co'>#&gt; GRASS command: r.slope.aspect --overwrite elevation=elevation slope=slope aspect=aspect </div><div class='output co'>#&gt; [1] "r.slope.aspect --overwrite elevation=elevation slope=slope aspect=aspect"
#&gt; attr(,"cmd")
#&gt; [1] "r.slope.aspect"</div><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='va'>run</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='fu'>parseGRASS</span><span class='op'>(</span><span class='st'>"r.buffer"</span><span class='op'>)</span><span class='op'>)</span>
<span class='op'>}</span>
</div><div class='output co'>#&gt; Command: r.buffer 
#&gt; Description: Creates a raster map showing buffer zones surrounding cells that contain non-NULL category values. 
#&gt; Keywords: raster, buffer 
#&gt; Parameters:
#&gt;   name: input, type: string, required: yes, multiple: no
#&gt;   keydesc: name, keydesc_count: 1
#&gt; [Name of input raster map]
#&gt;   name: output, type: string, required: yes, multiple: no
#&gt;   keydesc: name, keydesc_count: 1
#&gt; [Name for output raster map]
#&gt;   name: distances, type: float, required: yes, multiple: yes
#&gt; [Distance zone(s)]
#&gt;   name: units, type: string, required: no, multiple: no
#&gt;   default: meters
#&gt; [Units of distance]
#&gt; Flags:
#&gt;   name: z [Ignore zero (0) data cells instead of NULL cells] {FALSE}
#&gt;   name: overwrite [Allow output files to overwrite existing files] {FALSE}
#&gt;   name: help [Print usage summary] {FALSE}
#&gt;   name: verbose [Verbose module output] {FALSE}
#&gt;   name: quiet [Quiet module output] {FALSE}</div><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='va'>run</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='fu'>doGRASS</span><span class='op'>(</span><span class='st'>"r.buffer"</span>, flags<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"overwrite"</span><span class='op'>)</span>, input<span class='op'>=</span><span class='st'>"schools"</span>, output<span class='op'>=</span><span class='st'>"bmap"</span>,
    distances<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>1000</span>,<span class='fl'>15000</span>,<span class='fl'>1000</span><span class='op'>)</span><span class='op'>)</span>
<span class='op'>}</span>
</div><div class='output co'>#&gt; GRASS command: r.buffer --overwrite input=schools output=bmap distances=1000,2000,3000,4000,5000,6000,7000,8000,9000,10000,11000,12000,13000,14000,15000 </div><div class='output co'>#&gt; [1] "r.buffer --overwrite input=schools output=bmap distances=1000,2000,3000,4000,5000,6000,7000,8000,9000,10000,11000,12000,13000,14000,15000"
#&gt; attr(,"cmd")
#&gt; [1] "r.buffer"</div><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='va'>run</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='va'>pars</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>input<span class='op'>=</span><span class='st'>"schools"</span>, output<span class='op'>=</span><span class='st'>"bmap"</span>, distances<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>1000</span>,<span class='fl'>15000</span>,<span class='fl'>1000</span><span class='op'>)</span><span class='op'>)</span>
  <span class='fu'>doGRASS</span><span class='op'>(</span><span class='st'>"r.buffer"</span>, flags<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"overwrite"</span><span class='op'>)</span>, parameters<span class='op'>=</span><span class='va'>pars</span><span class='op'>)</span>
<span class='op'>}</span>
</div><div class='output co'>#&gt; GRASS command: r.buffer --overwrite input=schools output=bmap distances=1000,2000,3000,4000,5000,6000,7000,8000,9000,10000,11000,12000,13000,14000,15000 </div><div class='output co'>#&gt; [1] "r.buffer --overwrite input=schools output=bmap distances=1000,2000,3000,4000,5000,6000,7000,8000,9000,10000,11000,12000,13000,14000,15000"
#&gt; attr(,"cmd")
#&gt; [1] "r.buffer"</div><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='va'>run</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='fu'><a href='gmeta.html'>set.echoCmdOption</a></span><span class='op'>(</span><span class='va'>oechoCmd</span><span class='op'>)</span>
  <span class='kw'><a href='https://rdrr.io/r/base/try.html'>try</a></span><span class='op'>(</span><span class='va'>res</span> <span class='op'>&lt;-</span> <span class='fu'>execGRASS</span><span class='op'>(</span><span class='st'>"r.stats"</span>, input <span class='op'>=</span> <span class='st'>"fire_blocksgg"</span>, <span class='co'># no such file</span>
    flags <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"C"</span>, <span class='st'>"n"</span><span class='op'>)</span><span class='op'>)</span>, silent<span class='op'>=</span><span class='cn'>FALSE</span><span class='op'>)</span>
<span class='op'>}</span>
</div><div class='output co'>#&gt; Error in execGRASS("r.stats", input = "fire_blocksgg", flags = c("C",  : 
#&gt;   The command:
#&gt; r.stats -C -n input=fire_blocksgg
#&gt; produced an error (1) during execution:
#&gt; ERROR: Raster map &lt;fire_blocksgg&gt; not found</div><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='va'>run</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='va'>res</span> <span class='op'>&lt;-</span> <span class='fu'>execGRASS</span><span class='op'>(</span><span class='st'>"r.stats"</span>, input <span class='op'>=</span> <span class='st'>"fire_blocksgg"</span>, flags <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"C"</span>, <span class='st'>"n"</span><span class='op'>)</span>,
    legacyExec<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>res</span><span class='op'>)</span>
<span class='op'>}</span>
</div><div class='output co'>#&gt; [1] 1</div><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='va'>run</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='kw'>if</span> <span class='op'>(</span><span class='va'>res</span> <span class='op'>!=</span> <span class='fl'>0</span><span class='op'>)</span> <span class='op'>{</span>
    <span class='va'>resERR</span> <span class='op'>&lt;-</span> <span class='fu'>execGRASS</span><span class='op'>(</span><span class='st'>"r.stats"</span>, input <span class='op'>=</span> <span class='st'>"fire_blocksgg"</span>, 
      flags <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"C"</span>, <span class='st'>"n"</span><span class='op'>)</span>, redirect<span class='op'>=</span><span class='cn'>TRUE</span>, legacyExec<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>
    <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>resERR</span><span class='op'>)</span>
  <span class='op'>}</span>
<span class='op'>}</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: running command 'r.stats -C -n input=fire_blocksgg 2&gt;&amp;1' had status 1</span></div><div class='output co'>#&gt; [1] "ERROR: Raster map &lt;fire_blocksgg&gt; not found"
#&gt; attr(,"status")
#&gt; [1] 1</div><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='va'>run</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='va'>res</span> <span class='op'>&lt;-</span> <span class='fu'>stringexecGRASS</span><span class='op'>(</span><span class='st'>"r.stats -p -l input=geology"</span>, intern<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>res</span><span class='op'>)</span>
<span class='op'>}</span>
</div><div class='output co'>#&gt;  [1] "217 CZfg 1.21%"   "262 CZlg 0.33%"   "270 CZig 1.15%"   "405 CZbg 0.42%"  
#&gt;  [5] "583 CZve 0.04%"   "720 CZam 0.01%"   "766 CZg 0.01%"    "862 CZam 0.10%"  
#&gt;  [9] "910 CZbg 0.07%"   "921 Km 0.02%"     "945 CZbg 0.00%"   "946 CZam 0.01%"  
#&gt; [13] "948 CZam 0.00%"   "* no data 96.63%"</div><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='va'>run</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='fu'>stringexecGRASS</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span><span class='op'>(</span><span class='st'>"r.random.cells --overwrite --quiet output=samples"</span>,
    <span class='st'>"distance=1000 ncells=100 seed=1"</span><span class='op'>)</span><span class='op'>)</span>
<span class='op'>}</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='va'>run</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='fu'>execGRASS</span><span class='op'>(</span><span class='st'>"r.random.cells"</span>, flags<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"overwrite"</span>, <span class='st'>"quiet"</span><span class='op'>)</span>, output<span class='op'>=</span><span class='st'>"samples"</span>, distance<span class='op'>=</span><span class='fl'>1000</span>,
    ncells<span class='op'>=</span><span class='fl'>100L</span>, seed<span class='op'>=</span><span class='fl'>1L</span><span class='op'>)</span>
<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Roger Bivand.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


